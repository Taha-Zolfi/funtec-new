/* =======================================================================
   Products.css - v16.0 (Button Enhancement Version)
   - [FIXED & ENHANCED] The .details-btn animation is now correctly synced
     with the rest of the content, fading in with a delay.
   - [NEW] Added interactive states to .details-btn: a subtle scale and
     background change on hover, a "press" effect on active, and a
     beautiful focus ring for accessibility.
   - All other logic is stable and correct.
   ======================================================================= */

/* --- 1.0 Global Setup & Variables --- */
:root {
  --color-primary: #ffb527;
  --color-text-primary: #ffffff;
  --color-text-secondary: rgba(255, 255, 255, 0.85);
  --color-background: #0a0a0a;
  --transition-fast: 0.3s;
  --easing-elegant: cubic-bezier(0.25, 1, 0.5, 1);
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { width: 100%; max-width: 100%; overflow-x: hidden; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

/* --- 2.0 Main Layout & Snap Scrolling --- */
.persian-products { background: var(--color-background); color: var(--color-text-primary); width: 100%; position: relative; }
.snap-container { height: 100vh; overflow-y: scroll; scroll-snap-type: y mandatory; -webkit-overflow-scrolling: touch; scrollbar-width: none; }
.snap-container::-webkit-scrollbar { display: none; }
.snap-section { scroll-snap-align: start; scroll-snap-stop: always; position: relative; height: 100vh; width: 100%; overflow: hidden; }

/* Explicit direction control */
.lang-fa, .lang-ar { direction: rtl; }
.lang-en { direction: ltr; }


/* --- 3.0 UI Elements (Navigation & Header) --- */
/* Unchanged */
.navigation-dots { position: fixed; right: 1.5rem; top: 50%; transform: translateY(-50%); z-index: 1500; display: flex; flex-direction: column; gap: 1rem; }
.dot-tooltip { position: absolute; right: 150%; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.8); color:#fff; padding: 0.4rem 0.8rem; border-radius: 6px; font-size: 0.8rem; white-space: nowrap; opacity: 0; pointer-events: none; transition: all var(--transition-fast) ease; }
.nav-dot:hover .dot-tooltip { opacity: 1; transform: translateY(-50%) translateX(-10px); }
.nav-dot { position: relative; width: 10px; height: 10px; border-radius: 50%; background: rgba(255, 255, 255, 0.2); border: 1px solid rgba(255, 255, 255, 0.3); cursor: pointer; transition: all var(--transition-fast) ease; }
.nav-dot:hover, .nav-dot.active { border-color: var(--color-primary); transform: scale(1.2); box-shadow: 0 0 10px var(--color-primary); }
.nav-dot.active { background: var(--color-primary); }
.lang-en .navigation-dots { right: auto; left: 1.5rem; }
.lang-en .dot-tooltip { right: auto; left: 150%; }
.lang-en .nav-dot:hover .dot-tooltip { transform: translateY(-50%) translateX(10px); }
.page-header { display: flex; align-items: center; justify-content: center; text-align: center; }
.header-background { position: absolute; inset: 0; z-index: 1; }
.animated-bg { width: 100%; height: 100%; position: relative; overflow: hidden; background: linear-gradient(220deg, #292200 0%, #002341 100%); }
.grid-overlay { position: absolute; inset: 0; background-image: linear-gradient(rgba(255, 181, 39, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 181, 39, 0.05) 1px, transparent 1px); background-size: 60px 60px; animation: gridPan 60s linear infinite; }
@keyframes gridPan { from { background-position: 0 0; } to { background-position: 240px 120px; } }
.header-content { position: relative; z-index: 2; padding: 1rem; animation: headerFadeIn 1s ease-out; }
@keyframes headerFadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
.hero-section { margin-bottom: 3rem; }
.main-title { font-size: clamp(4rem, 12vw, 10rem); font-weight: 900; background: linear-gradient(135deg, #ffb527 0%, #13c8ff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 1.5rem; text-shadow: 0 0 40px rgba(255, 181, 39, 0.2); }
.main-subtitle { font-size: clamp(1.2rem, 4vw, 2.5rem); color: rgba(255, 255, 255, 0.8); max-width: 800px; margin: 0 auto; line-height: 1.5; }
.action-section { display: flex; flex-direction: column; align-items: center; gap: 2rem; margin-top: 3rem; }
.catalog-download-btn { display: inline-flex; align-items: center; gap: 0.8rem; padding: 0.9rem 2rem; background: transparent; border: 2px solid #ffb527; border-radius: 50px; color: #ffb527; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; text-decoration: none; }
.catalog-download-btn:hover { background: #ffb527; color: #000; transform: translateY(-3px); box-shadow: 0 10px 20px rgba(255, 181, 39, 0.2); }
.scroll-indicator { display: flex; flex-direction: column; align-items: center; gap: 0.5rem; color: rgba(255, 255, 255, 0.7); animation: bounce 2s infinite; }
.scroll-icon { width: 24px; height: 40px; border: 2px solid rgba(255, 255, 255, 0.7); border-radius: 12px; position: relative; }
.scroll-icon::before { content: ''; position: absolute; top: 8px; left: 50%; transform: translateX(-50%); width: 4px; height: 8px; background: rgba(255, 255, 255, 0.7); border-radius: 2px; animation: scroll-wheel 2s infinite; }
@keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-10px); } 60% { transform: translateY(-5px); } }
@keyframes scroll-wheel { from { opacity: 1; transform: translate(-50%, 0); } to { opacity: 0; transform: translate(-50%, 15px); } }


/* --- 5.0 Product Section (ELEGANT REDESIGN) --- */
.product-section { display: flex; align-items: center; }
.section-background { position: absolute; inset: 0; z-index: 1; }
.bg-video, .bg-image { width: 100%; height: 100%; object-fit: cover; }
.dark-overlay { position: absolute; inset: 0; transition: background var(--transition-fast) ease; }
.section-content { position: relative; z-index: 2; width: 100%; height: 100%; padding: 4rem 8%; display: flex; align-items: center; }
.product-info { max-width: 650px; width: 100%; }

/* [FIXED] Correct animation for ALL elements, including the button */
.product-title, .product-desc, .details-btn {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s var(--easing-elegant), transform 0.8s var(--easing-elegant);
}
.product-section.visible .product-title { opacity: 1; transform: none; transition-delay: 0.2s; }
.product-section.visible .product-desc { opacity: 1; transform: none; transition-delay: 0.4s; }
.product-section.visible .details-btn { opacity: 1; transform: none; transition-delay: 0.6s; } /* This ensures the button animates in */

.product-title { font-size: clamp(3.5rem, 8vw, 6.5rem); font-weight: 800; margin-bottom: 2rem; line-height: 1.1; color: var(--color-text-primary); text-shadow: 0 4px 20px rgba(0,0,0,0.5); }
.product-desc { font-size: clamp(1.1rem, 2.5vw, 1.2rem); color: var(--color-text-secondary); line-height: 1.8; margin-bottom: 2.5rem; max-width: 550px; position: relative; padding-top: 1rem; }
.product-desc::before { content: ''; position: absolute; top: 0; width: 50px; height: 2px; background: var(--color-primary); }

/* [ENHANCED] Final Button: Interactive States + "Shine Effect" */
.details-btn {
  position: relative;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
  
  background-color: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  
  border-radius: 50px;
  padding: 0.9rem 2.2rem;
  color: var(--color-text-primary);
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  
  /* Smoother transitions for all interactive properties */
  transition: transform var(--transition-fast) ease, background-color var(--transition-fast) ease, box-shadow var(--transition-fast) ease;
  will-change: transform, background-color; /* Performance optimization */
}

/* Shine/Glare Effect Logic */
.details-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -150%;
  width: 100%;
  height: 100%;
  background: linear-gradient(110deg, transparent 20%, rgba(255, 255, 255, 0.3) 50%, transparent 80%);
  transform: skewX(-25deg);
  transition: left 0.7s var(--easing-elegant);
}

/* --- [NEW] Button Interaction States --- */
.details-btn:hover {
  background-color: rgba(255, 255, 255, 0.18); /* Make it slightly brighter */
  transform: scale(1.03); /* Lift effect */
  box-shadow: 0 8px 25px rgba(0,0,0,0.3); /* Add depth */
}

.details-btn:hover::before {
  left: 150%;
}

.details-btn:active {
  transform: scale(0.99); /* "Press down" effect */
  transition-duration: 0.1s; /* Make the press feel snappy */
}

.details-btn:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--color-background), 0 0 0 5px var(--color-primary);
}

.details-btn .btn-arrow { transition: transform 0.4s ease; }


/* --- 6.0 Layout Logic (LTR/RTL/Mobile) --- */
/* All languages have the block on the LEFT */
.section-content {
  justify-content: flex-start;
}
/* LTR (English) Specifics: Text is aligned LEFT */
.lang-en .product-info { text-align: left; }
.lang-en .product-desc::before { left: 0; }
.lang-en .dark-overlay { background: linear-gradient(to right, rgba(0,0,0,0.9) 30%, transparent 70%); }
.lang-en .details-btn:hover .btn-arrow { transform: translateX(5px); }

/* RTL (Persian, Arabic) Specifics: Text is aligned RIGHT */
.lang-fa .product-info,
.lang-ar .product-info {
  text-align: right;
}
.lang-fa .product-desc::before,
.lang-ar .product-desc::before {
  right: 0;
}
.lang-fa .dark-overlay,
.lang-ar .dark-overlay {
  background: linear-gradient(to left, rgba(0,0,0,0.9) 30%, transparent 70%); /* Flipped for visual consistency */
}
.lang-fa .btn-arrow,
.lang-ar .btn-arrow {
  transform: rotate(180deg);
}
.lang-fa .details-btn:hover .btn-arrow,
.lang-ar .details-btn:hover .btn-arrow {
  transform: rotate(180deg) translateX(5px);
}

/* Mobile Overrides (All Languages): Block in the CENTER */
@media (max-width: 768px) {
  .section-content {
    padding: 2rem;
    justify-content: center !important;
  }
  .product-info {
    text-align: center !important;
    max-width: 95%;
  }
  .dark-overlay {
    background: rgba(0,0,0,0.7) !important;
  }
  .product-title { font-size: 3rem; }
  .product-desc { margin-left: auto; margin-right: auto; }
  .product-desc::before {
    left: 50% !important;
    right: auto !important;
    transform: translateX(-50%);
  }
}